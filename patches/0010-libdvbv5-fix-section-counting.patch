From c6101b3d0a834d22ffb10a1b28ea88a09fd037e9 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Andr=C3=A9=20Roth?= <neolynx@gmail.com>
Date: Thu, 13 Jun 2013 17:36:56 +0200
Subject: [PATCH 10/11] libdvbv5: fix section counting

---
 lib/libdvbv5/dvb-scan.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/lib/libdvbv5/dvb-scan.c b/lib/libdvbv5/dvb-scan.c
index 6ec5052..02415e6 100755
--- a/lib/libdvbv5/dvb-scan.c
+++ b/lib/libdvbv5/dvb-scan.c
@@ -417,7 +417,7 @@ int dvb_read_section_with_id(struct dvb_v5_fe_parms *parms, int dmx_fd, unsigned
 		{
 			break;
 		}
-		if (last_section == -1)
+		if (last_section == -1 || h->last_section > last_section)
 			last_section = h->last_section;
 
 		//ARRAY_SIZE(vb_table_initializers) >= table
-- 
1.7.10.4

