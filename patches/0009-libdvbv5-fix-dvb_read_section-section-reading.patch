From 36b5191c3bfe7bafa8516446fe34fa8d88378a1f Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Andr=C3=A9=20Roth?= <neolynx@gmail.com>
Date: Sat, 11 May 2013 23:41:36 +0200
Subject: [PATCH 1/3] libdvbv5: fix dvb_read_section section reading

---
 lib/libdvbv5/dvb-scan.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/lib/libdvbv5/dvb-scan.c b/lib/libdvbv5/dvb-scan.c
index 2c8cc2b..f1a7bc8 100755
--- a/lib/libdvbv5/dvb-scan.c
+++ b/lib/libdvbv5/dvb-scan.c
@@ -434,7 +434,7 @@ int dvb_read_section_with_id(struct dvb_v5_fe_parms *parms, int dmx_fd, unsigned
 
 		free(buf);
 
-		if (++sections == last_section + 1) {
+		if (id != -1 && ++sections == last_section + 1) {
 			dvb_logerr("dvb_read_section: ++sections == last_section + 1");
 			break;
 		}
-- 
1.7.10.4

