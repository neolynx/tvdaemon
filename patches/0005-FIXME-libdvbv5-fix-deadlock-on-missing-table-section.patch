From 8204591e44fdffac2ccee3b3b26da94a5fcf01b5 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Andr=C3=A9=20Roth?= <neolynx@gmail.com>
Date: Sun, 8 Dec 2013 16:24:48 +0100
Subject: [PATCH 05/13] FIXME libdvbv5: fix deadlock on missing table sections

---
 lib/libdvbv5/dvb-scan.c |    3 +++
 1 file changed, 3 insertions(+)

diff --git a/lib/libdvbv5/dvb-scan.c b/lib/libdvbv5/dvb-scan.c
index f9bc018..b94d6a9 100644
--- a/lib/libdvbv5/dvb-scan.c
+++ b/lib/libdvbv5/dvb-scan.c
@@ -96,6 +96,9 @@ int dvb_read_section_with_id(struct dvb_v5_fe_parms *parms, int dmx_fd,
 	uint8_t *buf = NULL;
 	uint8_t *tbl = NULL;
 	ssize_t table_length = 0;
+	int start_id = -1;
+	int start_section = -1;
+	// handle sections
 	int first_section = -1;
 	int last_section = -1;
 	int table_id = -1;
-- 
1.7.10.4

