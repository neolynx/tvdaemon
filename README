
Prerequisites
==============

On Ubuntu >= quantal or Debian >= wheezy, install the following:

sudo apt-get install autoconf libtool automake autopoint pkg-config g++ \
                    libjpeg62-dev libudev-dev libconfig++8-dev libjson0-dev \
                    libebml-dev libmatroska-dev libavformat-dev libccrtp-dev \
                    libdvbcsa-dev dvb-apps


Checkout TVDaemon
==================

git clone https://github.com/neolynx/tvdaemon.git
cd tvdaemon

git submodule init
git submodule update

cd v4l-utils
git checkout master
git am ../patches/*
cd -

cd tsdecrypt
git checkout master
git submodule init
git submodule update
cd -

Build tvdaemon
===============

cd v4l-utils
autoreconf -vfis
./configure
cd lib/libdvbv5
make
cd ../../..

autoreconf -vfis
./configure
make


Start tvdaemon locally
=======================

src/tvdaemon -d -r html


Install tvdaemon
=================

cd v4l-utils/lib/libdvbv5
sudo make install
cd -
sudo make install




GDB
====

In order to launch the application with gdb without a make install,
use libtool from the root folder: libtool --mode=execute gdb src/tvdaemon

Valgrind
=========
libtool --mode=execute valgrind --leak-check=full --log-file=vg.out src/tvdaemon -d -r html


